"0",""
"0",""
"0",""
"0",""
"0","# Dicionário para mapear números de mês para nomes em português"
"0","meses_em_portugues <- c("
"0","  ""Janeiro"", ""Fevereiro"", ""Março"", ""Abril"", ""Maio"", ""Junho"","
"0","  ""Julho"", ""Agosto"", ""Setembro"", ""Outubro"", ""Novembro"", ""Dezembro"""
"0",")"
"0",""
"0","dados_AnuaisMes <- dados_AnuaisMes %>%"
"0","  mutate(Mes = factor(substr(AnoMes, 6, 7), levels = sprintf(""%02d"", 1:12), labels = meses_em_portugues))"
"0",""
"0","# Calcular a média por mês"
"0","media_por_mes <- aggregate(PRECIPITAÇÃO.TOTAL..HORÁRIO..mm. ~ Mes, data = dados_AnuaisMes, FUN = mean)"
"0",""
"0","# Calcular o total por mês"
"0","total_por_mes <- aggregate(PRECIPITAÇÃO.TOTAL..HORÁRIO..mm. ~ Mes, data = dados_AnuaisMes, FUN = sum)"
"0",""
"0","# Gráfico de média por mês com nomes em português"
"0","grafico_media <- plot_ly(media_por_mes, x = ~Mes, y = ~PRECIPITAÇÃO.TOTAL..HORÁRIO..mm., type = 'bar', name = 'Média por Mês') %>%"
"0","  layout(title = ""Média de precipitação por mês, dados de jan de 2012 até nov de 2023"","
"0","         xaxis = list(title = ""Mês""),"
"0","         yaxis = list(title = ""Média (mm)""))"
"0",""
"0","# Gráfico de total por mês com nomes em português"
"0","grafico_total <- plot_ly(total_por_mes, x = ~Mes, y = ~PRECIPITAÇÃO.TOTAL..HORÁRIO..mm., type = 'bar', name = 'Total por Mês') %>%"
"0","  layout(title = ""Total de precipitação por mês/ Volume acumulado de jan de 2012 até nov 2023"","
"0","         xaxis = list(title = ""Mês""),"
"0","         yaxis = list(title = ""Total (mm)""))"
"0",""
"0","# Arredondar os valores para terem apenas dois dígitos após a vírgula"
"0","media_por_mes_truncada <- round(media_por_mes$`PRECIPITAÇÃO.TOTAL..HORÁRIO..mm.`, digits = 2)"
"0",""
"0","# Criar a tabela com os valores arredondados e os nomes dos meses em português"
"0","tabela <- plot_ly(type = 'table',"
"0","                  header = list("
"0","                    values = c(""Mês"", ""Média do mês em mm""),"
"0","                    align = c(""center"", ""center""),"
"0","                    fill = list(color = ""#9ddcff""),"
"0","                    line = list(width = 1.5, color = 'black'),"
"0","                    font = list(family = ""Helvetica"", size = 12, color = ""black"")"
"0","                  ),"
"0","                  cells = list("
"0","                    values = list(media_por_mes$Mes, media_por_mes_truncada),"
"0","                    align = c(""center"", ""center""),"
"0","                    line = list(width = 1.5, color = 'black'),"
"0","                    font = list(family = ""Helvetica"", size = 12, color = ""black"")"
"0","                  )) %>%"
"0","  layout(title = ""Precipitação Média por mês dados de jan de 2012 até nov de 2023"")"
"0",""
"0","# Mostrar a tabela"
"0","grafico_media"
